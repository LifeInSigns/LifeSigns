<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
    
        <!-- ===============================================-->
        <!--    Document Title-->
        <!-- ===============================================-->
        <title>LifeInSigns</title>
    
    
        <!-- ===============================================-->
        <!--    Favicons-->
        <!-- ===============================================-->
        <link rel="apple-touch-icon" sizes="180x180" href="assets/img/favicons/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="assets/img/favicons/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="assets/img/favicons/favicon-16x16.png">
        <link rel="shortcut icon" type="image/x-icon" href="assets/img/favicons/favicon.ico">
        <link rel="manifest" href="assets/img/favicons/manifest.json">
        <meta name="msapplication-TileImage" content="assets/img/favicons/mstile-150x150.png">
        <meta name="theme-color" content="#ffffff">
    
    
        <!-- ===============================================-->
        <!--    Stylesheets-->
        <!-- ===============================================-->
        <link href="assets/css/theme.css" rel="stylesheet" />
        <link href="assets/css/style.css" rel="stylesheet" />
        <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">

        <style>
            :root {
                --primary-color: #4a90e2;
                --secondary-color: #f5a623;
                --background-color: #f0f4f8;
                --text-color: #333;
                --border-radius: 8px;
            }
        
            body {
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                background-color: var(--background-color);
                color: var(--text-color);
                line-height: 1.6;
                margin: 0;
                padding: 0;
            }
        
            .container {
                max-width: 1000px;
                margin: 0 auto;
                padding: 20px;
            }
        
        
        
            h2 {
                color: var(--primary-color);
                border-bottom: 2px solid var(--primary-color);
                padding-bottom: 10px;
                margin-top: 0;
            }
        
            .section {
                background-color: white;
                margin-bottom: 30px;
                padding: 25px;
                border-radius: var(--border-radius);
                box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            }
        
            #videoElement {
                width: 100%;
                max-width: 640px;
                height: auto;
                border-radius: var(--border-radius);
                margin-bottom: 20px;
            }
        
            .button-group {
                display: flex;
                flex-wrap: wrap;
                gap: 10px;
                margin-bottom: 20px;
            }
        
            button {
                padding: 12px 20px;
                font-size: 1em;
                background-color: var(--primary-color);
                color: white;
                border: none;
                border-radius: var(--border-radius);
                cursor: pointer;
                transition: background-color 0.3s ease;
            }
        
            button:hover {
                background-color: #3a7bc8;
            }
        
            input[type="file"] {
                margin-bottom: 15px;
            }
        
            #translationResult {
                margin-top: 20px;
                font-size: 1.2em;
                font-weight: bold;
                padding: 15px;
                background-color: #e8f4fd;
                border-radius: var(--border-radius);
                border-left: 5px solid var(--primary-color);
            }
        
            @media (max-width: 768px) {
                .container {
                    padding: 10px;
                }
        
                .section {
                    padding: 15px;
                }
        
                button {
                    width: 100%;
                }
            }
        </style>
    
    </head>
<body>
    <main class="main" id="top">
        <nav class="navbar navbar-expand-lg navbar-light fixed-top py-3 d-block"
         style="background-color: #b2dded;">
      <div class="container d-flex justify-content-between align-items-center">
        <a class="navbar-brand" href="index.html" style="font-size: 36px; font-weight: bold; color: #283779; letter-spacing: 1px; font-family:Montserrat ;">LifeInSigns</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
                aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"> </span>
        </button>
        <div class="collapse navbar-collapse border-top border-lg-0 mt-4 mt-lg-0" id="navbarSupportedContent">
          <ul class="navbar-nav ms-auto pt-2 pt-lg-0 font-base">
            <li class="nav-item px-2"><a class="nav-link" aria-current="page" href="index.html">Home</a></li>
            <li class="nav-item px-2"><a class="nav-link" href="index.html#about">About Us</a></li>
            <li class="nav-item px-2"><a class="nav-link" href="translation.html">Translation</a></li>
            <li class="nav-item px-2"><a class="nav-link" href="index.html#hi">Contact</a></li>
          </ul>
          <a class="btn btn-sm btn-outline-primary rounded-pill order-1 order-lg-0 ms-lg-4" style="font-family: Montserrat;
          font-weight: 700;"  href="signin.html">Sign In</a>
        </div>
      </div>
    </nav>
        <section class="py-xxl-10 pb-0" id="home">
          <div class="bg-holder bg-size" style="background-image:url(assets/img/gallery/hero-bg.png);background-position:top center;background-size:cover;">
          </div>
        </section>
      </main>

      <!-- video capturing -->

      <div class="container">
        <div class="section">
            <h2>Live Webcam</h2>
            <video id="videoElement" autoplay></video>
            <div class="button-group">
                <button id="startButton">Start Webcam</button>
                <button id="stopButton">Stop Webcam</button>
                <button id="capture-button">Capture Image</button>
                <button id="startRecordingButton">Start Recording</button>
                <button id="stopRecordingButton" disabled>Stop Recording</button>
            </div>
        </div>

        <div class="section">
            <h2>Upload Media</h2>
            <input type="file" id="fileInput" accept="image/*,video/*,audio/*">
            <button id="uploadButton">Upload</button>
        </div>

        <div class="section">
            <h2>Translation</h2>
            <button id="translateButton">Translate Sign Language</button>
            <div id="translationResult"></div>
        </div>
        <div class="section">
            <h2>Image</h2>
            <img id="screenshot" alt="Captured Image"><br>
            <button id="translateButton">Translate Sign Language</button>
            <div id="translationResult"></div>
        </div>
        <div class="section">
            <h2>Video</h2>
            <video id="recordedVideo" controls></video><br>
            <button id="translateButton">Translate Video</button>
            <div id="translationResult"></div>
        </div>
    </div>
    <!-- script start -->
    <script>
        // Elements
        const videoElement = document.getElementById('videoElement');
        const startButton = document.getElementById('startButton');
        const stopButton = document.getElementById('stopButton');
        const captureButton = document.getElementById('capture-button');
        const fileInput = document.getElementById('fileInput');
        const uploadButton = document.getElementById('uploadButton');
        const translateButton = document.getElementById('translateButton');
        const translationResult = document.getElementById('translationResult');
        const screenshotImg = document.getElementById('screenshot');
        const recordedVideo = document.getElementById('recordedVideo');
        let mediaRecorder;
        let recordedChunks = [];

        const constraints = { video: true, audio: true };
        startButton.addEventListener('click', () => {
            navigator.mediaDevices.getUserMedia(constraints)
                .then((stream) => {
                    videoElement.srcObject = stream;
                    startRecordingButton.disabled = false;
                })
                .catch((err) => console.error('Error accessing webcam: ', err));
        });
    
       
    
        // Start Webcam
        // startButton.addEventListener('click', () => {
        //     navigator.mediaDevices.getUserMedia({ video: true, audio: false })
        //         .then((stream) => {
        //             mediaStream = stream;
        //             videoElement.srcObject = stream;
        //         })
        //         .catch((err) => {
        //             console.error('Error accessing webcam: ', err);
        //         });
        // });
    
        // Stop Webcam
        stopButton.addEventListener('click', () => {
            const stream = videoElement.srcObject;
            const tracks = stream.getTracks();
            tracks.forEach(track => track.stop());
            videoElement.srcObject = null;
            startRecordingButton.disabled = true;
            stopRecordingButton.disabled = true;
        });
    
        // Capture Image
        captureButton.addEventListener('click', () => {
            if (videoElement.srcObject) {
                const canvas = document.createElement('canvas');
                canvas.width = videoElement.videoWidth;
                canvas.height = videoElement.videoHeight;
                canvas.getContext('2d').drawImage(videoElement, 0, 0);
                const imageSrc = canvas.toDataURL('image/jpeg');
                screenshotImg.src = imageSrc;
                alert('Image captured successfully!');

            } else {
                alert('Webcam is not active.');
            }
        });
    
        // Upload Media
        uploadButton.addEventListener('click', () => {
            const file = fileInput.files[0];
            if (file) {
                alert('File uploaded: ' + file.name);
                // Here, you can add logic to process the uploaded file
            } else {
                alert('Please select a file to upload.');
            }
        });
    
        // Translate Sign Language
        translateButton.addEventListener('click', () => {
            if (screenshotImg.src || fileInput.files[0]) {
                translationResult.textContent = 'Translating sign language...';
                setTimeout(() => {
                    translationResult.textContent = 'Translation complete!';
                }, 2000);
            } else {
                alert('Please capture an image or upload a file first.');
            }
        });

        // video capture
        startRecordingButton.addEventListener('click', () => {
            recordedChunks = [];
            const options = { mimeType: 'video/webm; codecs=vp8' };
            mediaRecorder = new MediaRecorder(videoElement.srcObject, options);
            mediaRecorder.ondataavailable = (e) => {
                if (e.data.size > 0) {
                    recordedChunks.push(e.data);
                }
            };
            mediaRecorder.onstop = () => {
                const blob = new Blob(recordedChunks, { type: 'video/webm' });
                recordedVideo.src = URL.createObjectURL(blob);
                recordedVideo.controls = true;
                alert('Video recording stopped!');

            };
            mediaRecorder.start();
            alert('Video recording started!');
            startRecordingButton.disabled = true;
            stopRecordingButton.disabled = false;
        });

        stopRecordingButton.addEventListener('click', () => {
            mediaRecorder.stop();
            startRecordingButton.disabled = false;
            stopRecordingButton.disabled = true;
        });
    </script>

    
     <!-- script end -->
       <!-- end video capturing -->

</body>
</html>